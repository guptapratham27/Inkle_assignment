{
  "info": {
    "name": "Social Activity Feed API - Complete Documentation",
    "description": "Complete API documentation for Social Activity Feed with proper permissions, role-based access control, and all features including authentication, posts, likes, follows, blocking, activity feed, and admin operations.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Authentication",
      "description": "User authentication endpoints for signup and login",
      "item": [
        {
          "name": "Signup - Create New User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"john_doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/signup",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "signup"]
            },
            "description": "Creates a new user account. Returns JWT token for authentication.\n\n**Request Body:**\n- username (string, required): 3-30 characters, unique\n- email (string, required): Valid email address, unique\n- password (string, required): Minimum 6 characters\n\n**Response:** Returns user object and JWT token"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"username\": \"john_doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/auth/signup",
                  "host": ["{{baseUrl}}"],
                  "path": ["api", "auth", "signup"]
                }
              },
              "status": "OK",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"message\": \"User created successfully\",\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"user\": {\n    \"id\": \"69221103d850c59026da0aaa\",\n    \"username\": \"john_doe\",\n    \"email\": \"john@example.com\",\n    \"role\": \"user\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Login - Authenticate User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('token', jsonData.token);",
                  "    console.log('Token saved:', jsonData.token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "Authenticates a user and returns JWT token. Token is automatically saved to collection variable.\n\n**Request Body:**\n- email (string, required): User's email address\n- password (string, required): User's password\n\n**Response:** Returns user object and JWT token (automatically saved)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. User Management",
      "description": "User profile and blocking operations",
      "item": [
        {
          "name": "Get Current User Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", "profile"]
            },
            "description": "Returns the authenticated user's profile information.\n\n**Authentication:** Required (Bearer token)\n\n**Response:** User object with id, username, email, role, createdAt"
          },
          "response": []
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "User ID (MongoDB ObjectId)"
                }
              ]
            },
            "description": "Retrieves a specific user's profile by their ID.\n\n**Authentication:** Required\n**Path Parameter:** id - User's MongoDB ObjectId\n\n**Response:** User object"
          },
          "response": []
        },
        {
          "name": "Block User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/:id/block",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", ":id", "block"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "User ID to block"
                }
              ]
            },
            "description": "Blocks a user. Once blocked, their posts and activities will be hidden from your feed.\n\n**Authentication:** Required\n**Path Parameter:** id - User ID to block\n\n**Note:** You cannot block yourself. Blocked users' posts are automatically filtered from your feed.\n\n**Response:** Success message"
          },
          "response": []
        },
        {
          "name": "Unblock User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/:id/block",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", ":id", "block"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "User ID to unblock"
                }
              ]
            },
            "description": "Unblocks a previously blocked user.\n\n**Authentication:** Required\n**Path Parameter:** id - User ID to unblock\n\n**Response:** Success message"
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. Posts",
      "description": "Create, view, and manage posts",
      "item": [
        {
          "name": "Create Post",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"This is my first post!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/api/posts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts"]
            },
            "description": "Creates a new post. The post is automatically attributed to the authenticated user.\n\n**Authentication:** Required\n**Request Body:**\n- content (string, required): Post content, max 1000 characters\n\n**Response:** Created post object with author information"
          },
          "response": []
        },
        {
          "name": "Get All Posts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts"]
            },
            "description": "Retrieves all posts in the feed. Posts from blocked users are automatically excluded.\n\n**Authentication:** Required\n**Filters:**\n- Excludes posts from users you've blocked\n- Excludes deleted posts\n- Returns up to 50 most recent posts\n- Sorted by creation date (newest first)\n\n**Response:** Array of post objects with author information"
          },
          "response": []
        },
        {
          "name": "Delete Post",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "Post ID to delete"
                }
              ]
            },
            "description": "Deletes a post. Only the post author or admin/owner can delete posts.\n\n**Authentication:** Required\n**Path Parameter:** id - Post ID\n**Permissions:**\n- Post author can delete their own posts\n- Admin/Owner can delete any post\n\n**Response:** Success message"
          },
          "response": []
        }
      ]
    },
    {
      "name": "4. Likes",
      "description": "Like and unlike posts",
      "item": [
        {
          "name": "Like Post",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts/:id/like",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", ":id", "like"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "Post ID to like"
                }
              ]
            },
            "description": "Likes a post. Creates an activity log entry.\n\n**Authentication:** Required\n**Path Parameter:** id - Post ID\n**Note:** You cannot like posts from blocked users. Each user can like a post only once.\n\n**Response:** Like object and success message"
          },
          "response": []
        },
        {
          "name": "Unlike Post",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/posts/:id/like",
              "host": ["{{baseUrl}}"],
              "path": ["api", "posts", ":id", "like"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "Post ID to unlike"
                }
              ]
            },
            "description": "Removes a like from a post.\n\n**Authentication:** Required\n**Path Parameter:** id - Post ID\n\n**Response:** Success message"
          },
          "response": []
        }
      ]
    },
    {
      "name": "5. Follow System",
      "description": "Follow and unfollow users",
      "item": [
        {
          "name": "Follow User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/:id/follow",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", ":id", "follow"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "User ID to follow"
                }
              ]
            },
            "description": "Follows a user. Creates an activity log entry.\n\n**Authentication:** Required\n**Path Parameter:** id - User ID to follow\n**Note:** You cannot follow yourself.\n\n**Response:** Success message"
          },
          "response": []
        },
        {
          "name": "Unfollow User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/users/:id/follow",
              "host": ["{{baseUrl}}"],
              "path": ["api", "users", ":id", "follow"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "User ID to unfollow"
                }
              ]
            },
            "description": "Unfollows a user.\n\n**Authentication:** Required\n**Path Parameter:** id - User ID to unfollow\n\n**Response:** Success message"
          },
          "response": []
        }
      ]
    },
    {
      "name": "6. Activity Feed",
      "description": "View network activity feed",
      "item": [
        {
          "name": "Get Activity Feed",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/activity",
              "host": ["{{baseUrl}}"],
              "path": ["api", "activity"]
            },
            "description": "Retrieves the activity feed showing all network activities. Activities from blocked users are automatically excluded.\n\n**Authentication:** Required\n**Activities Include:**\n- Post creation: 'ABC made a post'\n- Likes: 'DEF liked ABC's post'\n- Follows: 'PQR followed ABC'\n- User deletions: 'User deleted by Owner'\n- Post deletions: 'Post deleted by Admin'\n\n**Filters:**\n- Excludes activities from blocked users\n- Returns up to 100 most recent activities\n- Sorted by creation date (newest first)\n\n**Response:** Array of formatted activity objects"
          },
          "response": []
        }
      ]
    },
    {
      "name": "7. Admin Operations",
      "description": "Admin and Owner operations for managing users, posts, and likes",
      "item": [
        {
          "name": "Delete User (Admin/Owner)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/users/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "User ID to delete"
                }
              ]
            },
            "description": "Deletes a user account. Creates an activity log entry.\n\n**Authentication:** Required\n**Permissions:** Admin or Owner only\n**Path Parameter:** id - User ID to delete\n**Restrictions:**\n- Cannot delete yourself\n- Admins cannot delete other admins (only Owner can)\n- Owner cannot be deleted\n\n**Response:** Success message"
          },
          "response": []
        },
        {
          "name": "Delete Post (Admin/Owner)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/posts/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "posts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "Post ID to delete"
                }
              ]
            },
            "description": "Deletes any post. Creates an activity log entry if deleted by admin/owner.\n\n**Authentication:** Required\n**Permissions:** Admin or Owner only\n**Path Parameter:** id - Post ID to delete\n\n**Response:** Success message"
          },
          "response": []
        },
        {
          "name": "Delete Like (Admin/Owner)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/likes/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "likes", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "Like ID to delete"
                }
              ]
            },
            "description": "Deletes a like.\n\n**Authentication:** Required\n**Permissions:** Admin or Owner only\n**Path Parameter:** id - Like ID to delete\n\n**Response:** Success message"
          },
          "response": []
        },
        {
          "name": "Create Admin (Owner Only)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"69221103d850c59026da0aaa\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/api/admin/admins",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "admins"]
            },
            "description": "Promotes a user to admin role.\n\n**Authentication:** Required\n**Permissions:** Owner only\n**Request Body:**\n- userId (string, required): User ID to promote to admin\n\n**Response:** Updated user object with admin role"
          },
          "response": []
        },
        {
          "name": "Remove Admin (Owner Only)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/admin/admins/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "admin", "admins", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "69221103d850c59026da0aaa",
                  "description": "Admin user ID to demote"
                }
              ]
            },
            "description": "Removes admin privileges from a user, demoting them to regular user.\n\n**Authentication:** Required\n**Permissions:** Owner only\n**Path Parameter:** id - Admin user ID to demote\n\n**Response:** Success message"
          },
          "response": []
        }
      ]
    }
  ]
}
